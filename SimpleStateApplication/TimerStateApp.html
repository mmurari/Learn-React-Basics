<html>

<head>
  <title>Learn React - Simple State Application with Timer</title>
  <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.js"></script>
</head>

<body>

  <!--Content loaded into root!!-->
  <div id="root"></div>

  <!--Pushes content intor root-->
  <script type="text/babel">

    class Clock extends React.Component{

      //Constructor defined
      constructor(props){
        super(props);
        this.state = {date:new Date()};
      }

      //Lifecycle Hooks
      //ComponentDidMount - runs after Component output is put to the DOM
      componentDidMount(){
        this.timerId = setInterval(
          () => this.tick(),
          1000
        );
      }

      //componentWillUnmount - tear down the timer interval
      componentWillUnmount(){
        clearInterval(this.timerId);
      }

      tick(){
        this.setState({
          date: new Date()
        });
      }

      //render function
      render(){
        return (
          <div id="element">
            <h1>Hello World!</h1>
            <h2>It is {this.state.date.toLocaleTimeString()}.</h2>
          </div>
        );
      }
    }

    function App(){
      return (
        <div>
          <Clock />
          <Clock />
          <Clock />
        </div>
      )
    }

    ReactDOM.render(
      <App />,
      document.getElementById("root")
    );

  </script>

</body>

</html>
